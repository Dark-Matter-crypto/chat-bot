{% extends "index/header.html" %}
{% block content %}
<div class="row justify-content-center" style="margin-top: 50px;">
	<div class="col-lg-8">
        <div class="card my-5" style="background: #243E36;">
            <div class="col-lg-12">
                <div class="row" style="margin-top: 10px; margin-bottom: 10px;">
                    <div class="col">
                        <div class="card" style="height: 500px;">
                            <div class="card-header">
                                <p class="font-weight-bold text-center" style="color: #243E36; font-size: x-large;">
                                    MGP-Bot
                                </p>
                            </div>
                            <div class="card-body"">
                                <form method="POST" action="{% url 'index_page' %}">{% csrf_token %}
                                    <div>
                                        {% for response in conversation %}
                                            <div style="display: flex;">
                                                {% if forloop.counter == 0 or forloop.counter|divisibleby:2 %}
                                                    <div class="speech-bubble-mate" style="padding: 10px; padding-left: 20px;">
                                                        {{response|safe}}&nbsp;&nbsp;
                                                    </div>
                                                    <div></div>
                                                {% else %}
                                                    <div style="flex-grow: 1;"></div>
                                                    <div class="speech-bubble" style="padding: 10px; text-align: right; padding-right: 20px;">
                                                        &nbsp;&nbsp;{{response|safe}}
                                                        <p class="small text-gray-700 mb-0" style="font-weight: 400;">You</p>
                                                    </div>
                                                {% endif %}
                                            </div>
                                        {% empty %}
                                            <div class="text-center" style="padding: 20px; height: 240px;;">
                                                <h5>Greet The Bot To Start Asking Questions.</h5>
                                            </div>
                                        {% endfor %}
                                        <div style="position: absolute; bottom: 0; left:0; right:0; margin: 10px; margin-bottom: 30px;">
                                            <label for="messages" class="col-form-label" style="float: right; margin-right: 8px; margin-top: 20px; color: #243E36;">
                                                Question:
                                            </label>
                                            <div class="input-group">
                                                {{form.question}}
                                                <div class="input-group-append">
                                                    <button
                                                        class="btn btn-sm"
                                                        type="submit"
                                                        style="background: #243E36; color: aliceblue;"
                                                    >
                                                        &nbsp;Send&nbsp;
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
		</div>
	</div>
</div>
{% endblock %}